---
interface Props {
  title: string;
  summary: string;
  pi: 'michelle' | 'sean' | 'both';
  href?: string;
}

const { title, summary, pi, href } = Astro.props;

const badgeConfig = {
  michelle: { label: 'Michelle', class: 'bg-michelle-100 text-michelle-800' },
  sean: { label: 'Sean', class: 'bg-sean-100 text-sean-800' },
  both: { label: 'Lab', class: 'bg-lab-100 text-lab-800' },
};

const badge = badgeConfig[pi];

const borderColors = {
  michelle: 'border-l-michelle-500',
  sean: 'border-l-sean-500',
  both: 'border-l-lab-500',
};
---

<div class:list={['rounded-lg border border-gray-200 border-l-4 p-5 hover:shadow-md transition-shadow', borderColors[pi]]}>
  <div class="flex items-start justify-between gap-3">
    <h3 class="font-heading font-semibold text-gray-900">{title}</h3>
    <span class:list={['shrink-0 text-xs px-2 py-0.5 rounded-full font-medium', badge.class]}>
      {badge.label}
    </span>
  </div>
  <p class="mt-2 text-sm text-gray-600 line-clamp-3">{summary}</p>
  {href && (
    <a href={href} class="mt-3 inline-block text-sm font-medium text-lab-600 hover:text-lab-700">
      Read more &rarr;
    </a>
  )}
</div>
