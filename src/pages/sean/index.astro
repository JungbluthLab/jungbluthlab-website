---
import PiLayout from '../../layouts/PiLayout.astro';
import ResearchTile from '../../components/cards/ResearchTile.astro';
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';

import seanImg from '../../assets/images/headshots/sean-headshot.jpg';
import seanPortraitImg from '../../assets/images/headshots/sean-portrait.jpg';

const piData = (await getCollection('pi')).find((p) => p.id === 'sean');
const researchThemes = (await getCollection('research'))
  .filter((r) => r.data.pi === 'sean' || r.data.pi === 'both')
  .sort((a, b) => a.data.order - b.data.order);
---

<PiLayout title="Sean Jungbluth — Jungbluth Lab" pi="sean" currentPage="">
  <!-- Identity -->
  <div class="py-8">
    <div class="flex flex-col md:flex-row items-start gap-8">
      <div class="shrink-0">
        <Image
          src={seanImg}
          alt="Sean Jungbluth"
          width={168}
          height={168}
          class="w-42 h-42 rounded-full object-cover ring-3 ring-sean-400"
        />
      </div>
      <div>
        <h1 class="font-heading text-3xl font-bold text-gray-900">{piData?.data.name}</h1>
        <p class="text-lg text-sean-700 mt-1">{piData?.data.title}</p>
        <p class="text-gray-600 mt-1">{piData?.data.role}</p>
        <p class="text-gray-600">Adjunct Professor, Department of Biology, San Francisco State University</p>
        <p class="text-gray-600">Affiliate Researcher, Lawrence Berkeley National Laboratory</p>

        <!-- Links -->
        <div class="flex flex-wrap gap-3 mt-4">
          <a href="https://seanj.me" target="_blank" rel="noopener noreferrer" class="text-sm text-sean-600 hover:text-sean-700 font-medium">
            Personal
          </a>
          {piData?.data.github && (
            <a href={piData.data.github} target="_blank" rel="noopener noreferrer" class="text-sm text-sean-600 hover:text-sean-700 font-medium">
              GitHub
            </a>
          )}
          {piData?.data.googleScholar && (
            <a href={piData.data.googleScholar} target="_blank" rel="noopener noreferrer" class="text-sm text-sean-600 hover:text-sean-700 font-medium">
              Google Scholar
            </a>
          )}
          {piData?.data.orcid && (
            <a href={piData.data.orcid} target="_blank" rel="noopener noreferrer" class="text-sm text-sean-600 hover:text-sean-700 font-medium">
              ORCID
            </a>
          )}
          {piData?.data.linkedin && (
            <a href={piData.data.linkedin} target="_blank" rel="noopener noreferrer" class="text-sm text-sean-600 hover:text-sean-700 font-medium">
              LinkedIn
            </a>
          )}
        </div>
      </div>
    </div>
  </div>

  <!-- Bio + Portrait -->
  <section class="mt-4 flex flex-col md:flex-row gap-6">
    <div class="prose prose-gray max-w-none flex-1">
      <p>Exploration of Earth's microbial and viral diversity is a major scientific frontier. Sequencing DNA — the blueprint of life — collected directly from the environment provides a powerful way to access the fantastic microbial diversity on our planet.</p>
      <p>My previous work has explored the nature and extent of microbial life underground and below the seafloor using tools rooted in molecular biology, biogeochemistry, and microbiology. Now I employ computational tools and leverage big data to continue exploring microbes at a larger scale, while developing software enabling molecular microbial ecology research for others.</p>
    </div>
    <div class="shrink-0 md:w-80">
      <Image
        src={seanPortraitImg}
        alt="Sean Jungbluth alongside the Alvin submersible and Sentry AUV"
        width={324}
        class="rounded-lg w-full"
      />
      <p class="mt-2 text-xs text-gray-500 italic">With the Alvin submersible and Sentry AUV</p>
    </div>
  </section>

  <!-- Quick Links -->
  <div class="mt-10 grid grid-cols-2 gap-3">
    <a href="/sean/research" class="block rounded-lg border border-sean-200 bg-sean-50 p-4 text-center hover:shadow-md transition-shadow">
      <span class="text-sm font-medium text-sean-800">Research</span>
    </a>
    <a href="/sean/teaching" class="block rounded-lg border border-sean-200 bg-sean-50 p-4 text-center hover:shadow-md transition-shadow">
      <span class="text-sm font-medium text-sean-800">Teaching & Outreach</span>
    </a>
  </div>

  <!-- Research Themes Preview -->
  <section class="mt-12">
    <h2 class="font-heading text-xl font-bold text-gray-900">Research</h2>
    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
      {researchThemes.map((theme) => (
        <ResearchTile
          title={theme.data.title}
          summary={theme.data.summary}
          pi={theme.data.pi}
        />
      ))}
    </div>
    <a href="/sean/research" class="mt-4 inline-block text-sm font-medium text-sean-600 hover:text-sean-700">
      View all research &rarr;
    </a>
  </section>

  <!-- Contact -->
  <section class="mt-12 rounded-lg bg-sean-50 border border-sean-200 p-6">
    <h2 class="font-heading text-lg font-bold text-gray-900">Contact</h2>
    <p class="mt-2 text-sm text-gray-700">seanj dot lab at gmail dot com</p>
    <p class="text-sm text-gray-700">sjungbluth at sfsu dot edu</p>
  </section>
</PiLayout>
