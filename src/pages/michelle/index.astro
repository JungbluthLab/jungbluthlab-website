---
import PiLayout from '../../layouts/PiLayout.astro';
import ResearchTile from '../../components/cards/ResearchTile.astro';
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';

import michelleImg from '../../assets/images/headshots/michelle-headshot.jpg';

const piData = (await getCollection('pi')).find((p) => p.id === 'michelle');
const researchThemes = (await getCollection('research'))
  .filter((r) => r.data.pi === 'michelle' || r.data.pi === 'both')
  .sort((a, b) => a.data.order - b.data.order);
---

<PiLayout title="Michelle Jungbluth â€” Jungbluth Lab" pi="michelle" currentPage="">
  <!-- Identity -->
  <div class="py-8">
    <div class="flex flex-col md:flex-row items-start gap-8">
      <div class="shrink-0 w-42 h-42 rounded-full overflow-hidden ring-3 ring-michelle-400 relative">
        <Image
          src={michelleImg}
          alt="Michelle Jungbluth"
          width={256}
          class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] h-auto"
        />
      </div>
      <div>
        <h1 class="font-heading text-3xl font-bold text-gray-900">{piData?.data.name}</h1>
        <p class="text-lg text-michelle-700 mt-1">{piData?.data.title}</p>
        <p class="text-gray-600 mt-1">{piData?.data.role}</p>
        <p class="text-gray-600">Adjunct Professor, Department of Biology, San Francisco State University</p>

        <!-- Links -->
        <div class="flex flex-wrap gap-3 mt-4">
          {piData?.data.googleScholar && (
            <a href={piData.data.googleScholar} target="_blank" rel="noopener noreferrer" class="text-sm text-michelle-600 hover:text-michelle-700 font-medium">
              Google Scholar
            </a>
          )}
          {piData?.data.linkedin && (
            <a href={piData.data.linkedin} target="_blank" rel="noopener noreferrer" class="text-sm text-michelle-600 hover:text-michelle-700 font-medium">
              LinkedIn
            </a>
          )}
          {piData?.data.researchGate && (
            <a href={piData.data.researchGate} target="_blank" rel="noopener noreferrer" class="text-sm text-michelle-600 hover:text-michelle-700 font-medium">
              ResearchGate
            </a>
          )}
          {piData?.data.orcid && (
            <a href={piData.data.orcid} target="_blank" rel="noopener noreferrer" class="text-sm text-michelle-600 hover:text-michelle-700 font-medium">
              ORCID
            </a>
          )}
        </div>
      </div>
    </div>
  </div>

  <!-- Bio -->
  <section class="prose prose-gray max-w-none mt-4">
    <p>I am an ecologist, naturalist, and marine biologist interested in the phenomena occurring at the base of aquatic food webs.</p>
    <br />
    <p>I am an expert in DNA barcoding, environmental DNA, quantitative PCR-based methods, and next-generation DNA sequencing. Current research projects utilize these techniques to explore trophic mismatches in high latitude ecosystems, identify indicator species in estuarine wetlands, and dig deep into the diverse prey important to larval fishes.</p>
  </section>

  <!-- Quick Links -->
  <div class="mt-10 grid grid-cols-2 gap-3">
    <a href="/michelle/research" class="block rounded-lg border border-michelle-200 bg-michelle-50 p-4 text-center hover:shadow-md transition-shadow">
      <span class="text-sm font-medium text-michelle-800">Research</span>
    </a>
    <a href="/michelle/teaching" class="block rounded-lg border border-michelle-200 bg-michelle-50 p-4 text-center hover:shadow-md transition-shadow">
      <span class="text-sm font-medium text-michelle-800">Teaching & Outreach</span>
    </a>
  </div>

  <!-- Research Themes Preview -->
  <section class="mt-12">
    <h2 class="font-heading text-xl font-bold text-gray-900">Research</h2>
    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
      {researchThemes.map((theme) => (
        <ResearchTile
          title={theme.data.title}
          summary={theme.data.summary}
          pi={theme.data.pi}
        />
      ))}
    </div>
    <a href="/michelle/research" class="mt-4 inline-block text-sm font-medium text-michelle-600 hover:text-michelle-700">
      View all research &rarr;
    </a>
  </section>

  <!-- Contact -->
  <section class="mt-12 rounded-lg bg-michelle-50 border border-michelle-200 p-6">
    <h2 class="font-heading text-lg font-bold text-gray-900">Contact</h2>
    <p class="mt-2 text-sm text-gray-700">mjungbluth at sfsu dot edu</p>
  </section>
</PiLayout>
